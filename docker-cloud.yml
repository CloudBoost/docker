cloudboost:
  autoredeploy: true
  environment:
    - "MAIL_PROVIDER= '<mail provider name>'"
    - "MAIL_PROVIDER_API_KEY= '<mail provider's api/auth key>'"
    - "DOMAIN= '<mail domain>'"
    - "FROM_EMAIL= '<email's from email>'"
    - "FROM_NAME= '<email's from name>'"
  deployment_strategy: high_availability
  expose:
    - '4730'
  image: 'cloudboost/cloudboost:latest'
  links:
    - mongo
    - redis
  ports:
    - '4730:4730'
  restart: always
  roles:
    - global
  sequential_deployment: true
  target_num_containers: 3
  tty: true
cloudboost-accounts:
  autoredeploy: true
  deployment_strategy: high_availability
  expose:
    - '1447'
  image: 'cloudboost/accounts:latest'
  links:
    - cloudboost
    - cloudboost-dashboard
    - cloudboost-user-service
  ports:
    - '1447:1447'
  restart: always
  roles:
    - global
  sequential_deployment: true
  target_num_containers: 3
  tty: true
cloudboost-dashboard:
  autoredeploy: true
  deployment_strategy: high_availability
  expose:
    - '80'
    - '1440'
  image: 'cloudboost/dashboard:latest'
  links:
    - cloudboost
    - cloudboost-user-service
  ports:
    - '80:1440'
    - '1440:1440'
  restart: always
  roles:
    - global
  sequential_deployment: true
  target_num_containers: 3
  tty: true
cloudboost-data-browser:
  autoredeploy: true
  deployment_strategy: high_availability
  expose:
    - '3333'
  image: 'cloudboost/data-browser:latest'
  links:
    - cloudboost
    - cloudboost-dashboard
    - cloudboost-user-service
  ports:
    - '3333:3333'
  restart: always
  roles:
    - global
  sequential_deployment: true
  target_num_containers: 3
  tty: true
cloudboost-user-service:
  autoredeploy: true
  environment:
    - "MANDRILL= '<Mandrill token/auth-key>'"
    - "MIXPANEL_TOKEN= '59f8c851677a01bdbfa6cffb2865c682'"
    - "MAILCHIMP_API_KEY= '<mailchimp apu/auth key>'"
    - "LOG_TOKEN= 'c064fc7e-4fc6-41e6-b51f-32c30deafdcc'"
    - "MAILGUN_API_KEY= '<mailgun apu/auth key>'"
    - "MAIL_GUN_DOMAIN= '<mailgun domain>'"
    - "ADMIN_EMAIL= '<Admin Email Address>'"
  deployment_strategy: high_availability
  expose:
    - '3000'
  image: 'cloudboost/user-service:latest'
  links:
    - cloudboost
    - mongo
    - redis
  ports:
    - '3000:3000'
  restart: always
  roles:
    - global
  sequential_deployment: true
  target_num_containers: 3
  tty: true
mongo:
  image: 'mongo:3.2'
  ports:
    - '27017:27017'
  restart: always
  volumes:
    - '/var/lib/mongodb:/var/lib/mongodb'
redis:
  image: 'redis:3.0'
  ports:
    - '6379:6379'
    - '16379:16379'
    - '26379:26379'
  restart: always
